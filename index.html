<!DOCTYPE html>
<html>
<head>
  <title>📡 ردیابی هر ثانیه</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
    const chatId = "1911302234";
    const token = "7300968462:AAH3tKmBLB3blE0mXD5kgLbM0XtoTh80_-8";

    function sendLocation(lat, lon) {
      const message = `📍 موقعیت زنده پدر:\n\n🌐 Latitude: ${lat}\n🌐 Longitude: ${lon}\n🗺️ https://www.google.com/maps?q=${lat},${lon}`;
      const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;
      fetch(url).catch(err => console.error("خطا در ارسال:", err));
    }

    function startLiveTracking() {
      if (!navigator.geolocation) {
        alert("مرورگر از موقعیت مکانی پشتیبانی نمی‌کند.");
        return;
      }

      setInterval(() => {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            sendLocation(lat, lon);
          },
          (error) => {
            console.error("⚠️ خطا در گرفتن مکان:", error);
          }
        );
      }, 1000); // هر 1 ثانیه
    }
  </script>
</head>
<body onload="startLiveTracking()" style="text-align:center; padding:50px; font-family:sans-serif;">
  <h2>👋 سلام پدر عزیزم</h2>
  <p>این صفحه را باز نگه دار تا موقعیت شما هر ثانیه برای من ارسال شود</p>
  <img src="https://i.imgur.com/VgXTvkg.png" width="200">
  <p>📡 موقعیت لحظه‌ای در حال ارسال است...</p>
</body>
</html>

